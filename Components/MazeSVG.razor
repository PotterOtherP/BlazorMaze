@inject IJSRuntime JS;

<svg xmlns="http://www.w3.org/2000/svg"
    xmlns:xlink="http://www.w3.org/1999/xlink"
    xmlns:ev="http://www.w3.org/2001/sml-events"
    viewBox = "0 0 @SVG_WIDTH @SVG_HEIGHT"
    style="width: @widthStr; height: @heightStr; margin: 2% 1% 2% 1%"
    id=@svgTagId>

    <rect x="0" y="0" width=@SVG_WIDTH height=@SVG_HEIGHT fill="#cfdfd9"/>



</svg>

@code {

    [Parameter]
    public int mazeId { get; set; }

    [Parameter]
    public int Complexity { get; set; }

    [Parameter]
    public string WallColorString { get; set; }

    [Parameter]
    public string SpaceColorString { get; set; }

    [Parameter]
    public string GridString { get; set; }

    private const int BOX_WIDTH = 200;
    private const int BOX_HEIGHT = 150;

    private const int SVG_WIDTH = 1204;
    private const int SVG_HEIGHT = 900;

    private string widthStr;
    private string heightStr;
    private string svgTagId;

    protected override void OnInitialized() {

        widthStr = $"{BOX_WIDTH}px";
        heightStr = $"{BOX_HEIGHT}px";
        svgTagId = $"svg_{mazeId}";

    }

    protected async override Task OnAfterRenderAsync(bool first) {

        await JS.InvokeVoidAsync("setMaze",
            GridString, SpaceColorString, WallColorString,
            Complexity, svgTagId);
    }

}